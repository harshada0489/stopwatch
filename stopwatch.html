<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pro Stopwatch with Fullscreen</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #1e272e;
            --text-sub: #808e9b;
            --green: #2ecc71;
            --blue: #3498db;
            --red: #e74c3c;
        }

        body {
            font-family: 'Inter', -apple-system, system-ui, sans-serif;
            background-color: var(--bg-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* The Main Container */
        .stopwatch-card {
            background: var(--card-bg);
            padding: 3rem 2rem;
            border-radius: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
            text-align: center;
            width: 90%;
            max-width: 400px;
            transition: all 0.3s ease;
            position: relative;
        }

        /* Fullscreen Mode Styling */
        .stopwatch-card:fullscreen {
            width: 100vw;
            max-width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-radius: 0;
            padding: 0;
        }

        /* Row 1: Display */
        #display {
            font-size: clamp(3rem, 15vw, 5rem); /* Responsive font sizing */
            font-weight: 800;
            color: var(--text-main);
            font-family: monospace;
            margin: 0;
        }

        #millisec {
            font-size: clamp(1.2rem, 5vw, 2rem);
            font-weight: 600;
            color: var(--text-sub);
            font-family: monospace;
            margin-bottom: 2rem;
        }

        /* Row 2: Controls */
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            padding: 0 20px;
        }

        button {
            border: none;
            padding: 16px 0;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.1s ease;
            flex: 1;
            color: white;
        }

        button:active { transform: scale(0.95); }

        .btn-start, .btn-pause { background-color: var(--green); }
        .btn-continue { background-color: var(--blue); }
        .btn-clear { background-color: var(--red); }

        /* Fullscreen Toggle Button */
        .fs-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            color: var(--text-sub);
            font-size: 0.8rem;
            border: 1px solid #ddd;
            padding: 5px 10px;
            width: auto;
            flex: none;
            box-shadow: none;
        }
        
        .stopwatch-card:fullscreen .fs-btn {
            top: 30px;
            right: 30px;
        }
    </style>
</head>
<body>

    <div class="stopwatch-card" id="stopwatch">
        <button class="fs-btn" onclick="toggleFullScreen()" id="fsToggle">⛶ Fullscreen</button>

        <div class="display-container">
            <div id="display">00:00:00</div>
            <div id="millisec">000</div>
        </div>

        <div class="controls">
            <button id="mainBtn" class="btn-start">Start</button>
            <button id="clearBtn" class="btn-clear">Clear</button>
        </div>
    </div>

    <script>
        let startTime;
        let elapsedTime = 0;
        let timerInterval;

        const mainBtn = document.getElementById('mainBtn');
        const clearBtn = document.getElementById('clearBtn');
        const display = document.getElementById('display');
        const millisecDisplay = document.getElementById('millisec');
        const card = document.getElementById('stopwatch');

        function timeToString(time) {
            let hh = Math.floor(time / 3600000);
            let mm = Math.floor((time % 3600000) / 60000);
            let ss = Math.floor((time % 60000) / 1000);
            let ms = time % 1000;
            return {
                main: `${String(hh).padStart(2, "0")}:${String(mm).padStart(2, "0")}:${String(ss).padStart(2, "0")}`,
                ms: String(ms).padStart(3, "0")
            };
        }

        function print(txt) {
            display.innerHTML = txt.main;
            millisecDisplay.innerHTML = txt.ms;
        }

        function start() {
            startTime = Date.now() - elapsedTime;
            timerInterval = setInterval(() => {
                elapsedTime = Date.now() - startTime;
                print(timeToString(elapsedTime));
            }, 10);
        }

        function pause() { clearInterval(timerInterval); }

        function clear() {
            clearInterval(timerInterval);
            print({ main: "00:00:00", ms: "000" });
            elapsedTime = 0;
            mainBtn.innerHTML = "Start";
            mainBtn.className = "btn-start";
        }

        mainBtn.addEventListener("click", () => {
            if (mainBtn.innerHTML === "Start" || mainBtn.innerHTML === "Continue") {
                start();
                mainBtn.innerHTML = "Pause";
                mainBtn.className = "btn-pause";
            } else {
                pause();
                mainBtn.innerHTML = "Continue";
                mainBtn.className = "btn-continue";
            }
        });

        clearBtn.addEventListener("click", clear);

        // Fullscreen Logic
        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                card.requestFullscreen().catch(err => {
                    alert(`Error attempting to enable full-screen mode: ${err.message}`);
                });
                document.getElementById('fsToggle').innerText = "✕ Exit";
            } else {
                document.exitFullscreen();
                document.getElementById('fsToggle').innerText = "⛶ Fullscreen";
            }
        }
    </script>
</body>
</html>